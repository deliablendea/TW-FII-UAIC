<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cloud9</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <div class="welcome-card">
            <h1>Cloud Storage Dashboard</h1>
            <p>Advanced Modular File Management System</p>
            <div class="user-info">
                <p>Logged in as: <span id="userName"></span></p>
                <p>Email: <span id="userEmail"></span></p>
            </div>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>
        
        <div id="alerts"></div>
        
        <!-- Fragmentation System Section -->
        <div class="fragmentation-section">
            <div class="fragmentation-header">
                <div class="fragmentation-title">
                    üóÇÔ∏è File Fragmentation System
                </div>
                <div class="fragmentation-subtitle">
                    Securely store large files across multiple cloud services with redundancy
                </div>
            </div>
            
            <div id="fragmentationStatusCard" class="status-card">
                <div class="loading">Checking authentication status...</div>
            </div>
            
            <div id="fragmentationUploadSection" class="upload-section" style="display: none;">
                <h3>Upload File for Fragmentation</h3>
                <p>Drop a file here or click to select</p>
                <input type="file" id="fragmentationFileInput" style="display: none;">
                <button class="btn" onclick="document.getElementById('fragmentationFileInput').click()">Select File</button>
                
                <div style="display: flex; gap: 20px; margin-top: 20px; justify-content: center;">
                    <div class="form-group" style="max-width: 200px;">
                        <label for="chunkSize">Chunk Size:</label>
                        <select id="chunkSize" class="form-control">
                            <option value="524288">512 KB</option>
                            <option value="1048576" selected>1 MB</option>
                            <option value="2097152">2 MB</option>
                            <option value="5242880">5 MB</option>
                        </select>
                    </div>
                    
                    <div class="form-group" style="max-width: 200px;">
                        <label for="redundancyLevel">Redundancy Level:</label>
                        <select id="redundancyLevel" class="form-control">
                            <option value="1">1 (Single copy)</option>
                            <option value="2" selected>2 (Double redundancy)</option>
                            <option value="3">3 (Triple redundancy)</option>
                        </select>
                    </div>
                </div>
                
                <button id="fragmentationUploadBtn" class="btn" onclick="uploadFragmentedFile()" disabled>Upload & Fragment</button>
            </div>
            
            <div class="files-list">
                <h3>Fragmented Files</h3>
                <div id="fragmentationFilesList">
                    <div class="loading">Loading files...</div>
                </div>
            </div>
        </div>
        
        <div class="section-divider">
            <span>Individual Cloud Service Management</span>
        </div>
        
        <div class="cloud-services">
            <div class="service-card">
                <div class="service-header">
                    <div class="service-title">
                        <svg class="service-icon" viewBox="0 0 24 24" fill="#4285f4">
                            <path d="M6.28 3l5.55 9.5L18.09 3h1.8L13.77 12.5l6.12 10.5h-1.8l-5.55-9.5L6.28 24H4.48l6.12-10.5L4.48 3h1.8z"/>
                        </svg>
                        Google Drive
                    </div>
                    <span id="googleStatus" class="status-badge status-disconnected">Disconnected</span>
                </div>
                
                <div id="googleActions">
                    <button id="googleConnectBtn" class="connect-btn" onclick="connectGoogle()">Connect to Google Drive</button>
                    <button id="googleDisconnectBtn" class="disconnect-btn" onclick="disconnectGoogle()" style="display: none;">Disconnect</button>
                </div>
                
                <div id="googleFileOps" style="display: none;">
                    <div class="file-upload">
                        <input type="file" id="googleFileInput" class="file-input" onchange="uploadToGoogle()">
                        <button class="upload-btn" onclick="document.getElementById('googleFileInput').click()">
                            üìÅ Upload File
                        </button>
                        <button class="list-btn" onclick="listGoogleFiles()">
                            üìã List Files
                        </button>
                    </div>
                    <div id="googleFileList" class="file-list" style="display: none;"></div>
                </div>
            </div>
            
            <div class="service-card">
                <div class="service-header">
                    <div class="service-title">
                        <svg class="service-icon" viewBox="0 0 24 24" fill="#0061ff">
                            <path d="M12 0L0 7l12 5 12-5-12-7z"/>
                            <path d="M0 12l12 5 12-5"/>
                            <path d="M0 17l12 5 12-5"/>
                        </svg>
                        Dropbox
                    </div>
                    <span id="dropboxStatus" class="status-badge status-disconnected">Disconnected</span>
                </div>
                
                <div id="dropboxActions">
                    <button id="dropboxConnectBtn" class="dropbox-connect-btn" onclick="connectDropbox()">Connect to Dropbox</button>
                    <button id="dropboxDisconnectBtn" class="disconnect-btn" onclick="disconnectDropbox()" style="display: none;">Disconnect</button>
                </div>
                
                <div id="dropboxFileOps" style="display: none;">
                    <div class="file-upload">
                        <input type="file" id="dropboxFileInput" class="file-input" onchange="uploadToDropbox()">
                        <button class="dropbox-upload-btn" onclick="document.getElementById('dropboxFileInput').click()">
                            üìÅ Upload File
                        </button>
                        <button class="dropbox-list-btn" onclick="listDropboxFiles()">
                            üìã List Files
                        </button>
                    </div>
                    <div id="dropboxFileList" class="file-list" style="display: none;"></div>
                </div>
            </div>
            
            <div class="service-card">
                <div class="service-header">
                    <div class="service-title">
                        <svg class="service-icon" viewBox="0 0 24 24" fill="#0078d4">
                            <path d="M12 1.25c5.5 0 10 4.5 10 10s-4.5 10-10 10-10-4.5-10-10 4.5-10 10-10z"/>
                        </svg>
                        OneDrive
                    </div>
                    <span id="onedriveStatus" class="status-badge status-disconnected">Disconnected</span>
                </div>
                
                <div id="onedriveActions">
                    <button id="onedriveConnectBtn" class="onedrive-connect-btn" onclick="connectOneDrive()">Connect to OneDrive</button>
                    <button id="onedriveDisconnectBtn" class="disconnect-btn" onclick="disconnectOneDrive()" style="display: none;">Disconnect</button>
                </div>
                
                <div id="onedriveFileOps" style="display: none;">
                    <div class="file-upload">
                        <input type="file" id="onedriveFileInput" class="file-input" onchange="uploadToOneDrive()">
                        <button class="onedrive-upload-btn" onclick="document.getElementById('onedriveFileInput').click()">
                            üìÅ Upload File
                        </button>
                        <button class="onedrive-list-btn" onclick="listOneDriveFiles()">
                            üìã List Files
                        </button>
                    </div>
                    <div id="onedriveFileList" class="file-list" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/dashboard.js"></script>
</body>
</html> 